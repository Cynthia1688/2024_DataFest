rename(svy_id = seqn)
fiber_df =
fiber_df |>
janitor::clean_names()
fiber_df |>
janitor::clean_names()
fiber_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
year = svy_year
)
fiber_df =
df_03 |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
fiber_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
year = svy_year
)
fiber_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
head()
head(df_99)
head(df_03)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(DRXIFIBE = DR_MEAN) |>
filter(SEQN, DRXIFIBE, YEAR)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(DRXIFIBE = DR_MEAN) |>
select(SEQN, DRXIFIBE, YEAR)
df_03
df_99
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(DR_MEAN = MEAN_FIBE) |>
select(SEQN, MEAN_FIBER, YEAR)
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(DR_MEAN = MEAN_FIBER) |>
select(SEQN, MEAN_FIBER, YEAR)
df_99
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
load("~/Desktop/2024_DataFest/main_data/nhanes_data.rda")
main_df = nhanes_data
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_01 =
readxl::read_xlsx("Dietary_data/2001-2002daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_05 =
readxl::read_xlsx("Dietary_data/2005-2006daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_07 =
readxl::read_xlsx("Dietary_data/2007-2008daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_09 =
readxl::read_xlsx("Dietary_data/2009-2010daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_11 =
readxl::read_xlsx("Dietary_data/2011-2012daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_13 =
readxl::read_xlsx("Dietary_data/2013-2014daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_15 =
readxl::read_xlsx("Dietary_data/2015-2016daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_17 =
readxl::read_xlsx("Dietary_data/2017-2020daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
fiber_df =
df_99 |>
rbind(df_01) |>
rbind(df_03) |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
fiber_df
fiber_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
fiber_tidy_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
fiber_df =
df_99 |>
rbind(df_01) |>
rbind(df_03) |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
fiber_tidy_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
fiber_tidy_df
df =
left_join(fiber_df, main_df)
head(fiber_df)
df =
left_join(fiber_tidy_df, main_df)
View(df)
df_na = df |> drop_na()
View(df_na)
df =
left_join(fiber_tidy_df, main_df) |>
drop_na()
main_df |> select(demo_gender)
main_df |>
filter(demo_gender == "Female")
main_df |> unique(demo_gender)
main_df |> select(demo_gender) |> unique()
main_df |>
filter(demo_gender == "Women")
# Chunk 1
library(tidyverse)
library(viridis)
library(modelr)
library(mgcv)
library(latex2exp)
knitr::opts_chunk$set(
echo = TRUE,
warning = FALSE,
fig.width = 8,
fig.height = 6,
out.width = "90%"
)
options(
ggplot2.continuous.colour = "viridis",
ggplot2.continuous.fill = "viridis"
)
scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
theme_set(theme_minimal() + theme(legend.position = "bottom"))
# Chunk 2
load("~/Desktop/2024_DataFest/main_data/nhanes_data.rda")
main_df = nhanes_data
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_01 =
readxl::read_xlsx("Dietary_data/2001-2002daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_05 =
readxl::read_xlsx("Dietary_data/2005-2006daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_07 =
readxl::read_xlsx("Dietary_data/2007-2008daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_09 =
readxl::read_xlsx("Dietary_data/2009-2010daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_11 =
readxl::read_xlsx("Dietary_data/2011-2012daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_13 =
readxl::read_xlsx("Dietary_data/2013-2014daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_15 =
readxl::read_xlsx("Dietary_data/2015-2016daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_17 =
readxl::read_xlsx("Dietary_data/2017-2020daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
# Chunk 3
fiber_df =
df_99 |>
rbind(df_01) |>
rbind(df_03) |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
# Chunk 4
fiber_tidy_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
main_df =
main_df |>
filter(demo_gender == "Women")
df =
left_join(fiber_tidy_df, main_df) |>
drop_na()
View(df)
load("~/Desktop/2024_DataFest/main_data/nhanes_data.rda")
main_df = nhanes_data
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_01 =
readxl::read_xlsx("Dietary_data/2001-2002daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_05 =
readxl::read_xlsx("Dietary_data/2005-2006daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_07 =
readxl::read_xlsx("Dietary_data/2007-2008daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_09 =
readxl::read_xlsx("Dietary_data/2009-2010daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_11 =
readxl::read_xlsx("Dietary_data/2011-2012daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_13 =
readxl::read_xlsx("Dietary_data/2013-2014daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_15 =
readxl::read_xlsx("Dietary_data/2015-2016daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_17 =
readxl::read_xlsx("Dietary_data/2017-2020daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
# Combining Fiber Data
fiber_df =
df_99 |>
rbind(df_01) |>
rbind(df_03) |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
fiber_df
View(fibre_df)
df_99
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx")
df_99
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx")
df_03
# Chunk 1
library(tidyverse)
library(viridis)
library(modelr)
library(mgcv)
library(latex2exp)
knitr::opts_chunk$set(
echo = TRUE,
warning = FALSE,
fig.width = 8,
fig.height = 6,
out.width = "90%"
)
options(
ggplot2.continuous.colour = "viridis",
ggplot2.continuous.fill = "viridis"
)
scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
theme_set(theme_minimal() + theme(legend.position = "bottom"))
# Chunk 2
load("~/Desktop/2024_DataFest/main_data/nhanes_data.rda")
main_df = nhanes_data
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_01 =
readxl::read_xlsx("Dietary_data/2001-2002daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_05 =
readxl::read_xlsx("Dietary_data/2005-2006daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_07 =
readxl::read_xlsx("Dietary_data/2007-2008daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_09 =
readxl::read_xlsx("Dietary_data/2009-2010daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_11 =
readxl::read_xlsx("Dietary_data/2011-2012daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_13 =
readxl::read_xlsx("Dietary_data/2013-2014daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_15 =
readxl::read_xlsx("Dietary_data/2015-2016daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_17 =
readxl::read_xlsx("Dietary_data/2017-2020daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
# Combining Fiber Data
fiber_df =
df_99 |>
rbind(df_01) |>
rbind(df_03) |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
fiber_tidy_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
main_df =
main_df |>
filter(demo_gender == "Women")
# Combining main data and fiber data, and remove NA
df =
left_join(fiber_tidy_df, main_df) |>
drop_na()
View(fiber_tidy_df)
df |> select(bp_sys_mean)
# Chunk 1
library(tidyverse)
library(viridis)
library(modelr)
library(mgcv)
library(latex2exp)
knitr::opts_chunk$set(
echo = TRUE,
warning = FALSE,
fig.width = 8,
fig.height = 6,
out.width = "90%"
)
options(
ggplot2.continuous.colour = "viridis",
ggplot2.continuous.fill = "viridis"
)
scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
theme_set(theme_minimal() + theme(legend.position = "bottom"))
# Chunk 2
load("~/Desktop/2024_DataFest/main_data/nhanes_data.rda")
main_df = nhanes_data
df_99 =
readxl::read_xlsx("Dietary_data/1999-2000daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_01 =
readxl::read_xlsx("Dietary_data/2001-2002daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_03 =
readxl::read_xlsx("Dietary_data/2003-2004daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_05 =
readxl::read_xlsx("Dietary_data/2005-2006daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_07 =
readxl::read_xlsx("Dietary_data/2007-2008daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_09 =
readxl::read_xlsx("Dietary_data/2009-2010daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_11 =
readxl::read_xlsx("Dietary_data/2011-2012daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_13 =
readxl::read_xlsx("Dietary_data/2013-2014daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_15 =
readxl::read_xlsx("Dietary_data/2015-2016daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
df_17 =
readxl::read_xlsx("Dietary_data/2017-2020daysmean.xlsx") |>
rename(MEAN_FIBER = DR_MEAN) |>
select(SEQN, MEAN_FIBER, YEAR)
# Combining Fiber Data
fiber_df =
df_99 |>
rbind(df_01) |>
rbind(df_03) |>
rbind(df_05) |>
rbind(df_07) |>
rbind(df_09) |>
rbind(df_11) |>
rbind(df_13) |>
rbind(df_15) |>
rbind(df_17)
fiber_tidy_df =
fiber_df |>
janitor::clean_names() |>
rename(
svy_id = seqn,
svy_year = year
)
# Combining main data and fiber data, and remove NA
df =
left_join(fiber_tidy_df, main_df) |>
drop_na()
View(df)
View(df)
write.csv(df, "df.csv", row.names = FALSE)
View(df)
View(df)
# significant predictors of poor BP control
library(ggplot2)
library(dplyr)
library(summarytools)
install.packages("summarytools")
# significant predictors of poor BP control
library(ggplot2)
library(dplyr)
library(summarytools)
library(summarytools)
